{
    "contestId": 2178,
    "index": "F",
    "title": "F. Conquer or of Forest",
    "statement": "Define the unique\nornamental\ncoloring of a rooted tree$$$^{\\text{∗}}$$$ as the following vertex coloring:\nA vertex $$$v$$$ is colored white if the number of vertices in the subtree$$$^{\\text{†}}$$$ rooted at $$$v$$$ is even;\nOtherwise, $$$v$$$ is colored black.\nOn his quest to conquer a forest of Christmas trees, Yuuki encountered an\nornamentally\ncolored tree $$$T$$$ with $$$n$$$ vertices labeled from $$$1$$$ to $$$n$$$, rooted at vertex $$$1$$$.\nYuuki considers the tree\nconquered\nif and only if\nat least one\nof the following conditions holds:\nThere are no white vertices in the tree, or\nThere exists some vertex $$$v$$$ such that all white vertices lie on the simple path from the root $$$1$$$ to $$$v$$$.\nTo\nconquer\nthe tree, Yuuki can apply the following operation on $$$T$$$ an arbitrary number of times (possibly zero):\nFirst, choose a vertex $$$w$$$ that is colored white and is\nnot\nthe root of $$$T$$$. Let $$$p_w$$$ be the parent of $$$w$$$.\nThen, remove the edge connecting $$$p_w$$$ and $$$w$$$, and add an edge between\nany\ntwo vertices such that $$$T$$$ remains a tree.\nFinally, recolor the vertices of $$$T$$$ such that it is\nornamentally\ncolored. Note that $$$T$$$ is always rooted at vertex $$$1$$$.\nA possible application of the operation in the first test case. The resulting tree is\nconquered\nsince all white vertices lie on the path between vertices $$$1$$$ and $$$3$$$.\nCompute the number of distinct$$$^{\\text{‡}}$$$\nconquered\ntrees that Yuuki can construct by applying the above operation an arbitrary number of times on $$$T$$$. Since the answer may be large, output it modulo $$$998\\,244\\,353$$$.\nNote that Yuuki cannot stop midway through an operation (in particular, he must recolor the tree before checking if it is\nconquered\n). Additionally, Yuuki is allowed to apply the operation even if the tree is already\nconquered\n.\n$$$^{\\text{∗}}$$$A tree is a connected graph without cycles.\n$$$^{\\text{†}}$$$A subtree of vertex $$$v$$$ is the subgraph of $$$v$$$, all its descendants, and all the edges between them.\n$$$^{\\text{‡}}$$$Two trees are considered distinct if and only if there exists a pair of vertices such that there is an edge between them in one of the trees, and not in the other.",
    "inputSpecification": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^4$$$). The description of the test cases follows.\nThe first line of each test case contains a single integer $$$n$$$ ($$$2\\le n\\le 2\\cdot 10^5$$$) — the number of vertices in $$$T$$$.\nThen $$$n-1$$$ lines follow, the $$$i$$$-th line containing two integers $$$u_i$$$ and $$$v_i$$$ ($$$1\\le u_i<v_i\\le n$$$) — the two vertices that the $$$i$$$-th edge connects.\nIt is guaranteed that the given edges form a tree.\nIt is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2\\cdot 10^5$$$.",
    "outputSpecification": "Output\nFor each test case, output a single integer — the number of distinct\nconquered\ntrees that can be constructed from $$$T$$$, modulo $$$998\\,244\\,353$$$.",
    "note": "Note\nIn the first test case, below are the four\nconquered\ntrees that can be constructed and a sequence of operations that constructs each one.\nExplanation\nIllustration\nThe operation is applied zero times.\nThe given tree is already\nconquered\nsince all white vertices lie on the simple path between vertices $$$1$$$ and $$$4$$$.\nThe first and only operation selects $$$w$$$ to be vertex $$$3$$$ ($$$p_w$$$ is vertex $$$1$$$) and draws an edge between vertices $$$2$$$ and $$$4$$$.\nThe resulting tree is\nconquered\nsince all white vertices lie on the simple path between vertices $$$1$$$ and $$$3$$$.\nThe first and only operation selects $$$w$$$ to be vertex $$$3$$$ ($$$p_w$$$ is vertex $$$1$$$) and draws an edge between vertices $$$2$$$ and $$$3$$$.\nThe resulting tree is\nconquered\nsince all white vertices lie on the simple path between vertices $$$1$$$ and $$$3$$$.\nThe first operation selects $$$w$$$ to be vertex $$$3$$$ ($$$p_w$$$ is vertex $$$1$$$) and draws an edge between vertices $$$2$$$ and $$$4$$$.\nThe second operation selects $$$w$$$ to be vertex $$$4$$$ ($$$p_w$$$ is vertex $$$2$$$) and draws an edge between vertices $$$1$$$ and $$$4$$$.\nThe resulting tree is\nconquered\nsince all white vertices lie on the simple path between vertices $$$1$$$ and $$$4$$$.\nIn the second test case, Yuuki cannot apply the operation on $$$T$$$ since there are no white vertices. Additionally, $$$T$$$ is already\nconquered\nsince there are no white vertices. Thus, the answer is $$$1$$$.",
    "tags": [
        "combinatorics",
        "math",
        "trees"
    ],
    "rating": 2200
}