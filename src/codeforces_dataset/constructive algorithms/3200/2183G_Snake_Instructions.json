{
    "contestId": 2183,
    "index": "G",
    "title": "G. Snake Instructions",
    "statement": "This is an interactive problem.\nThere are $$$n$$$ snakes on the number line. The $$$i$$$-th snake is located at the position $$$a_i$$$ and has a speed $$$s_i$$$. You know the position of each snake, and that the speed of each snake is an integer from $$$0$$$ to $$$2$$$ inclusive, but you do not know the exact speed of each snake. It is guaranteed that no two snakes are at the same position.\nTo figure out the snakes' speed, you may give\nup to $$$3$$$\ninstructions. Each instruction should be given in the form of a binary string of length $$$m$$$ containing letters\nL\nand\nR\n($$$1 \\leq m \\leq 4n$$$). After receiving this instruction, the snakes will move for $$$m$$$ seconds. On the $$$i$$$-th second, if $$$s_i=$$$\nL\n, then all snakes move left for that second. Otherwise, all snakes move right for that second. If two snakes are at the same location at any given point (including if the time is not an integer number of seconds), the faster snake is removed from the board. After all $$$m$$$ seconds have passed, you are given the number of remaining snakes, as well as the location of all remaining snakes. Note that each instruction is independent of each other – that means that all snakes are revived and moved to their original positions.\nYour task is to find the speed of all snakes. However, it may be the case that it is impossible to find the speed of at least one snake. If this is the case, you must report\n-1\ninstead. You should only output\n-1\nif it is impossible to figure out the speed of at least one snake, no matter which instructions are given.\nIf you report\n-1\nwhen there are a series of at most $$$3$$$ instructions that will uniquely determine the speed of each snake, you will get the Wrong Answer verdict.\nSimilarly, you will receive the Wrong Answer verdict if you did not report\n-1\nwhen the configuration is impossible to determine, even if you correctly guessed the speeds.",
    "inputSpecification": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^3$$$). The description of the test cases follows.\nThe first line of each test case contains an integer $$$n$$$ – the number of snakes ($$$2 \\leq n \\leq 10^5$$$).\nThe second line contains $$$n$$$ integers $$$a_1,a_2,\\ldots,a_n$$$ ($$$1 \\leq a_1<a_2<\\ldots<a_n \\leq 4n$$$) – the initial position of all snakes.\nIt is guaranteed that the sum of $$$n$$$ across all test cases does not exceed $$$10^5$$$.",
    "outputSpecification": "",
    "note": "Note\nIn the first test case, the speed of the snakes is $$$0$$$ and $$$1$$$. The program begins by giving the instruction\nL\n. The right snake moves from $$$2$$$ to $$$1$$$ while the left snake does not move. However, since now both snakes occupy the position $$$1$$$, the one with the higher speed (the right snake) is removed. Therefore, there is only one snake remaining, and it is at position $$$1$$$. At this point, the program decides to guess the speed of snakes as $$$0$$$ and $$$1$$$, which is correct, so this test case is passed. Note that although the speeds $$$[0,2]$$$ would also result in there being $$$1$$$ snake at position $$$1$$$ at the end, we cannot report $$$-1$$$, as we can show there is a series of instructions that will differentiate $$$[0,2]$$$ and $$$[0,1]$$$.\nIn the third test case, we conclude that the speed of both the first snake and the third snake is $$$0$$$, and we can show there is no way to differentiate the speed of the middle snake between $$$1$$$ and $$$2$$$. Therefore, reporting\n-1\nis correct in this case.",
    "tags": [
        "constructive algorithms",
        "greedy",
        "interactive"
    ],
    "rating": 3200
}