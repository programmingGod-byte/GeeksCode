{
    "contestId": 2147,
    "index": "E",
    "title": "E. Maximum OR Popcount",
    "statement": "You are given an array of $$$n$$$ non-negative integers.\nYou want to answer given $$$q$$$ independent scenarios. In the $$$i$$$-th scenario, you are allowed to perform the following operation\nat most\n$$$b_i$$$ times:\nChoose an element of the array and increase it by $$$1$$$.\nYour goal is to maximize the number of bits that are equal to $$$1$$$ in the\nbitwise OR\nof all numbers in the array. Find this number for each scenario.",
    "inputSpecification": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^3$$$). The description of the test cases follows.\nThe first line of each test case contains two integers $$$n$$$ and $$$q$$$ ($$$1 \\leq n, q \\leq 10^{5}$$$) — the size of the array and the number of scenarios.\nThe second line contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$0 \\leq a_i \\leq 10^{9}$$$) — the elements of the array.\nThe $$$i$$$-th of the next $$$q$$$ lines contains a single integer $$$b_i$$$ ($$$0 \\leq b_i \\leq 10^{9}$$$) — the maximum number of operations allowed in the $$$i$$$-th scenario.\nIt is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$10^{5}$$$, and the sum of $$$q$$$ over all test cases does not exceed $$$10^{5}$$$.",
    "outputSpecification": "Output\nFor each test case, output $$$q$$$ lines, the $$$i$$$-th of them containing a single integer — the maximum possible number of bits equal to $$$1$$$ in the bitwise OR in the $$$i$$$-th scenario.",
    "note": "Note\nVisualizer link\nIn the first test case:\nIn the first scenario, we don't have any operations, and therefore the answer is equal to the number of $$$1$$$-bits in the bitwise OR of the original array, $$$0$$$, which has $$$0$$$ bits set in its binary representation.\nIn the second scenario, one way of achieving $$$1$$$ bit set in the bitwise OR is increasing $$$a_1$$$ by $$$1$$$ twice, obtaining a bitwise OR of $$$2={(10)}_2$$$. It can be shown that it is the best possible value we can obtain by performing the operation at most twice.\nIn the third scenario, one way of achieving a result of $$$2$$$ is adding $$$1$$$ to $$$a_1$$$ three times, which can be shown to be optimal. Note that you don't have to apply the operation $$$4$$$ times.\nIn the second test case:\nIn the first scenario, we don't have any operations, and therefore the answer is equal to the number of $$$1$$$-bits in the bitwise OR of the original array, which is $$$2$$$.\nIn the second scenario, one way of achieving a result of $$$3$$$ is adding $$$1$$$ to $$$a_2$$$ three times, which can be shown to be optimal.",
    "tags": [
        "binary search",
        "bitmasks",
        "brute force",
        "data structures",
        "greedy"
    ],
    "rating": 2300
}