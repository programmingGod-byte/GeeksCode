{
    "contestId": 2141,
    "index": "E",
    "title": "E. Perfect Cut",
    "statement": "You are given a string $$$s$$$ consisting of characters\n0\n,\n1\n, and/or\n?\n.\nLet's call a binary (consisting of\n0\nand/or\n1\n) string\nperfect\nif you can cut the string into two non-empty parts: a prefix $$$a$$$ and the suffix $$$b$$$, such that $$$a_i \\ge b_i$$$ for each $$$i$$$ from $$$1$$$ to $$$\\min(|a|, |b|)$$$.\nYour task is to calculate the number of ways to replace all the question marks (independently) with zeros and ones so that the resulting string is perfect mod. Two ways are considered different if there exists at least one position that has different characters in these two ways. Since the answer can be large, print it modulo $$$998244353$$$.",
    "inputSpecification": "Input\nThe first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$) — the number of test cases.\nThe only line of each test case contains a string $$$s$$$ ($$$2 \\le |s| \\le 2 \\cdot 10^5$$$), consisting of characters\n0\n,\n1\n, and/or\n?\n.\nAdditional constraint on the input: the sum of the lengths of the strings $$$s$$$ over all test cases doesn't exceed $$$2 \\cdot 10^5$$$.",
    "outputSpecification": "Output\nFor each test case, print a single integer — the number of ways to replace all the question marks (independently) with zeros and ones so that the resulting string is perfect, taken modulo $$$998244353$$$.",
    "note": "Note\nIn the first test case, the string\n001\ncan be split into a prefix of length $$$1$$$ and a suffix of length $$$2$$$.\nIn the fourth test case, the following strings can be obtained:\nThe string\n11010\n, which can be split into a prefix of length $$$2$$$ and a suffix of length $$$3$$$;\nThe string\n11000\n, which can be split into a prefix of length $$$4$$$ and a suffix of length $$$1$$$.",
    "tags": [
        "*special",
        "dp",
        "greedy"
    ],
    "rating": 2100
}