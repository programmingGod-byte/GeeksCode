{
    "contestId": 2143,
    "index": "C",
    "title": "C. Max Tree",
    "statement": "You are given a tree consisting of $$$n$$$ vertices, numbered from $$$1$$$ to $$$n$$$. Each of the $$$n - 1$$$ edges is associated with two non-negative integers $$$x$$$ and $$$y$$$.\nConsider a permutation$$$^{\\text{∗}}$$$ $$$p$$$ of the integers $$$1$$$ through $$$n$$$, where $$$p_i$$$ represents the value assigned to vertex $$$i$$$.\nFor an edge $$$(u, v)$$$, such that $$$u < v$$$ with associated values $$$x$$$ and $$$y$$$, its\ncontribution\nis defined as follows: $$$$$$ \\begin{cases} x & \\text{if } p_u > p_v, \\\\ y & \\text{otherwise.} \\end{cases} $$$$$$\nThe\nvalue\nof the permutation is the sum of the contributions from all edges.\nYour task is to find any permutation $$$p$$$ that\nmaximizes\nthis total value.\n$$$^{\\text{∗}}$$$A permutation of length $$$n$$$ is an array consisting of $$$n$$$ distinct integers from $$$1$$$ to $$$n$$$ in arbitrary order. For example, $$$[2,3,1,5,4]$$$ is a permutation, but $$$[1,2,2]$$$ is not a permutation ($$$2$$$ appears twice in the array), and $$$[1,3,4]$$$ is also not a permutation ($$$n=3$$$ but there is $$$4$$$ in the array).",
    "inputSpecification": "Input\nEach test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^4$$$). The description of the test cases follows.\nThe first line contains a single integer $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$) — the number of vertices in the tree.\nEach of the next $$$n - 1$$$ lines contains four integers $$$u$$$, $$$v$$$, $$$x$$$, and $$$y$$$ ($$$1 \\le u < v \\le n$$$, $$$1 \\le x, y \\le 10^9$$$) — describing an edge between vertices $$$u$$$ and $$$v$$$ with associated values $$$x$$$ and $$$y$$$. It is guarranteed that the given edges form a tree.\nIt is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.",
    "outputSpecification": "Output\nFor each test case, you must output a permutation $$$p$$$ of the integers $$$1$$$ through $$$n$$$ that maximizes the total value as defined in the problem. If there are multiple answers, you can print any of them.",
    "note": "Note\nIn the first test case:\nConsider the permutation $$$p = [3, 2, 1]$$$. Its value is $$$5 = 2 + 3$$$. Here's why:\nSince $$$p_1 > p_2$$$, the first edge contributes $$$+2$$$.\nSince $$$p_2 > p_3$$$, the second edge contributes $$$+3$$$.\nThe values of some other permutations are as follows:\n$$$p = [1, 2, 3]$$$ has value $$$1 + 2 = 3$$$.\n$$$p = [1, 3, 2]$$$ has value $$$1 + 3 = 4$$$.\n$$$p = [3, 1, 2]$$$ has value $$$2 + 2 = 4$$$.\nIn the second test case:\nThe value of $$$p = [2, 3, 5, 4, 1]$$$ is $$$3 + 2 + 7 + 100 = 112$$$. Another possible correct answer is $$$p = [2, 3, 4, 5, 1]$$$.",
    "tags": [
        "constructive algorithms",
        "dfs and similar",
        "graphs",
        "greedy"
    ],
    "rating": 1300
}