{
    "contestId": 2185,
    "index": "G",
    "title": "G. Mixing MEXes",
    "statement": "You are given $$$n$$$\narrays\n$$$a_1, a_2, \\ldots, a_n$$$.\nThe following operation is performed exactly once:\nChoose any array among $$$a_1, a_2, \\ldots, a_n$$$. Suppose you've chosen array $$$a_i$$$ ($$$1 \\leq i \\leq n$$$).\nChoose any element in array $$$a_i$$$. Suppose you've chosen the $$$j$$$-th element of $$$a_i$$$, denoted by $$$a_{i,j}$$$ ($$$1 \\leq j \\leq |a_i|$$$, where $$$|a_i|$$$ denotes the length of array $$$a_i$$$).\nChoose any other array among $$$a_1, a_2, \\ldots a_n$$$\nthat is not $$$a_i$$$\n. Suppose you've chosen $$$a_k$$$ ($$$1 \\leq k \\leq n, k \\neq i$$$).\nAdd $$$a_{i,j}$$$ to the back of array $$$a_k$$$. Then, remove $$$a_{i,j}$$$ from $$$a_i$$$.\nThe value of this operation $$$(i,j,k)$$$ is defined as the sum of each array's $$$\\operatorname{MEX}$$$ after the operation is performed. More formally, the value of an operation after the operation is performed is $$$\\sum_{i=1} ^{n} \\operatorname{MEX}(a_i)$$$.\nEvaluate the sum of the values of all possible distinct independent operations. Two operations are distinct if the ordered triple of integers $$$(i,j,k)$$$ is different.\n$$$\\operatorname{MEX}(a)$$$ is defined as the smallest non-negative integer that is not present in the array. For example, $$$\\operatorname{MEX}([1, 2, 0, 5])$$$ is $$$3$$$, and $$$\\operatorname{MEX}([1, 2, 4, 9])$$$ is $$$0$$$.",
    "inputSpecification": "Input\nThe first line of the input contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 10^4$$$) — the number of test cases.\nThe first line of each test case contains a single integer $$$n$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$) — the number of arrays.\nThe next $$$n$$$ lines start with $$$l_i$$$ ($$$1 \\le l_i \\le 10^5$$$) — the length of the $$$i$$$th array — then contain $$$l_i$$$ integers $$$a_1, a_2, \\ldots, a_{l_i}$$$ ($$$0 \\le a_{i_j} \\le 10^6$$$) — the array $$$a_i$$$.\nIt is guaranteed that the sum of $$$l_i$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.",
    "outputSpecification": "Output\nFor each test case, output the sum of the values of all possible distinct operations.",
    "note": "Note\nFor the first test case, we have 3 possible distinct operations:\n$$$i = 1, j = 1, k = 2$$$: The arrays are now [] and [$$$0, 1, 2$$$], which have a $$$\\operatorname{mex}$$$ of $$$0$$$ and $$$3$$$ respectively, so the value of the operation is $$$3$$$.\n$$$i = 2, j = 1, k = 1$$$: The arrays are now [$$$0, 1$$$] and [$$$2$$$], which have a $$$\\operatorname{mex}$$$ of $$$2$$$ and $$$0$$$ respectively, so the value of the operation is $$$2$$$.\n$$$i = 2, j = 2, k = 1$$$: The arrays are now [$$$0, 2$$$] and [$$$1$$$], which have a $$$\\operatorname{mex}$$$ of $$$1$$$ and $$$0$$$ respectively, so the value of the operation is $$$1$$$.\nFor the second test case, since no array contains a zero, the value of all operations will be $$$0$$$.",
    "tags": [
        "data structures",
        "implementation",
        "math"
    ],
    "rating": 1800
}